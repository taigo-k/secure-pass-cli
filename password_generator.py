# -*- coding: utf-8 -*-
"""password_generator.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1WcvFll6NaDkUewBLdli3zy4R0rjkRlq9
"""

import random # ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ
import string # æ–‡å­—ã‚»ãƒƒãƒˆå®šç¾©

LOWERCASE = string.ascii_lowercase # a-z
UPPERCASE = string.ascii_uppercase # A-Z
DIGITS = string.digits             # 0-9
SYMBOLS = string.punctuation       # !@#$%&*...
ALL_CHARS = [LOWERCASE, UPPERCASE, DIGITS, SYMBOLS] # ãƒªã‚¹ãƒˆã«ã¾ã¨ã‚ã‚‹

# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
def generate_password(length):

  REQUIRED_SETS = [LOWERCASE, UPPERCASE, DIGITS, SYMBOLS] # å¿…é ˆæ–‡å­—åˆ—ã‚»ãƒƒãƒˆ
  char_pool = LOWERCASE + UPPERCASE + DIGITS + SYMBOLS # å…¨ã¦ã®æ–‡å­—ç¨®ã‚’å«ã‚ã‚‹

  if length < len(REQUIRED_SETS):
    return "ã‚¨ãƒ©ãƒ¼: å®‰å…¨ã®ãŸã‚ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®é•·ã•ã¯4æ–‡å­—ä»¥ä¸Šã«ã—ã¦ãã ã•ã„ã€‚"

  password = []

  for char_set in REQUIRED_SETS: # 4ç¨®é¡å«ã¾ã›ã‚‹
    required_char = random.choice(char_set)
    password.append(required_char)

  remaining_length = length - len(REQUIRED_SETS) # æ®‹ã‚Šã®é•·ã•

  for _ in range(remaining_length): # æ®‹ã‚Šæ ã‚’åŸ‹ã‚ã‚‹
    filler_char = random.choice(char_pool)
    password.append(filler_char)

  random.shuffle(password) # ã‚·ãƒ£ãƒƒãƒ•ãƒ«
  return "".join(password) # ãƒªã‚¹ãƒˆè¦ç´ ã‚’ãƒ‡ãƒªãƒŸã‚¿ã§çµåˆ

# ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
def main():

  print("==================================")
  print("  ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«")
  print("==================================")

  while True:
    try:
      length_input = input("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®é•·ã•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ (æœ€ä½4æ–‡å­—ã€0ã§çµ‚äº†):")

      if length_input == '0':
        print("ğŸ‘‹ ãƒ„ãƒ¼ãƒ«ã‚’çµ‚äº†ã—ã¾ã™ã€‚")
        break

      length = int(length_input)

      if length < 4:
        print("âš ï¸ é•·ã•ã¯æœ€ä½4æ–‡å­—ï¼ˆå¿…é ˆæ–‡å­—ç¨®æ•°ï¼‰ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
        print() # ç©ºè¡Œ
        continue

      password = generate_password(length) # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ

      print("-" * 34)
      print(f"âœ… ç”Ÿæˆã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ ({length}æ–‡å­—): {password}")
      print("-" * 34)
      print() # ç©ºè¡Œ


    except ValueError:
      print("âš ï¸ ç„¡åŠ¹ãªå…¥åŠ›ã§ã™ã€‚æ•´æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
      print() # ç©ºè¡Œ
    except Exception as e:
      print(f"âš ï¸ äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {e}")
      print() # ç©ºè¡Œ

# ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
if __name__ == "__main__":
  main()

